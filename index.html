<!DOCTYPE html>
<html>

<head>
  <title>Assignment2</title>
  <!-- importing Vega & Vega-Lite -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>

  <!-- importing pure.css -->
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css"
    integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <!-- google fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" type="text/css" href="css/styles.css" media="all">

  <style>
    body {
      overflow-x: hidden;
      background-color: black;
      color: whitesmoke;
      font-family: 'Open Sans', Arial, Helvetica, sans-serif;
    }

    .page {
      max-width: 1500px;
      margin: 0 auto;
    }

    .centered-container {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      text-align: center;
    }

    .centered-vis-container {
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 0;
    }

    .bubble-text-container {
      display: flex;
      justify-content: flex-start;
      align-items: center;
      margin: 0;
    }

    .bubble-container {
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
    }

    .bubble-text {
      flex: 1;
      padding: 0 1em;
    }

    .vis-container {
      border-radius: 10px;
    }

    .vis-container>div {
      margin: 0;
    }

    .dual-vis-container {
      display: flex;
      justify-content: center;
      align-items: center;
    }
  </style>
</head>

<body>
  <div class="page">
    <!-- title and first paragraph -->
    <div style="text-align:center">
      <div style="max-width: 80%; margin: 0 auto; text-align: center;">
        <h1 style="font-size: 75px;">EFFECTS OF CARBON EMISSIONS ON THE AUSTRALIAN CLIMATE</h1>
        <p>
          Carbon emissions have led to a concerning increase in temperatures and more severe bushfire seasons in Australia.
          The country has witnessed a pronounced rise in average temperatures, resulting in longer and more intense heatwaves.
          These soaring temperatures have created a breeding ground for more frequent and devastating bushfires, with recent
          seasons characterized by unprecedented fire activity that has not only threatened lives and property but also
          inflicted irreparable damage on Australia's unique ecosystems and wildlife. The impact of these hotter and more
          fire-prone conditions has been deeply felt across the nation, underscoring the urgent need for climate action to
          address this pressing issue.
        </p>
      </div>
    </div>
    <!-- title 1 -->
    <div style="text-align:center">
      <div style="max-width: 80%; margin: 0 auto; text-align: center;">
        <h1 style="font-size: 30px;">Relationship Between Temperature and CO2 Emissions in Australia</h1>
      </div>
    </div>
    <!-- bar and line chart -->
    <div style="text-align:center">
      <div id="topGraph" class="vis-container"></div>
    </div>
    <!-- drop down menu -->
    <div style="text-align:center; margin-bottom: 20px;">
      <label for="dataDisplay" style="margin-right: 10px;">Display Data:</label>
      <select id="dataDisplay">
        <option value="both">Both</option>
        <option value="meanTemp">Mean Temperature Anomaly</option>
        <option value="emissions">Emissions</option>
      </select>
    </div>
    <!-- paragraph 2 -->
    <div style="text-align:center">
      <div style="max-width: 80%; margin: 0 auto; text-align: center;">
        <p> Over the past century, there has been a strong correlation in Australia between the increase in carbon emissions and rising temperatures. Elevated levels of carbon emissions, largely from human activities, have contributed to more frequent and severe heatwaves, extended droughts, and devastating bushfires. These bushfires have been increasing in duration and intensity over time, making it clear that carbon emissions are a primary driver of temperature increases in the country.</p>
      </div>
    </div>
    <!-- map title -->
    <div style="text-align:center">
      <div style="max-width: 80%; margin: 0 auto; text-align: center;">
        <h1 style="font-size: 30px;">Measure of Fire Radiative Power in Australia</h1>
      </div>
    </div>
    <!-- maps -->
    <div>
      <div style="text-align:center">
        <div id="vis2" class="vis-container"></div>
      </div>
    </div>
    <!-- image -->
    <div style="text-align:center">
      <img src="https://natureconservancy-h.assetsadobe.com/is/image/content/dam/tnc/nature/en/photos/australia/Bushfire-2_Sebastian-Kappen.jpg?crop=0%2C285%2C4896%2C2692&wid=4000&hei=2200&scl=1.224"
        alt="Wildfire Image" style="max-width: 100%; height: auto;">
    </div>
    <!-- land title -->
    <div style="text-align:center">
      <div style="max-width: 80%; margin: 0 auto; text-align: center;">
        <h1 style="font-size: 30px;">Bushfire Effect on Land</h1>
      </div>
    </div>
    <!--bubble and stacked area-->
    <div>
      <div style="text-align:center">
        <div id="bubblePlot" class="vis-container"></div>
      </div>
    </div>
    <!-- text discussing 4 bottom graphs -->
    <div style="text-align:center">
      <div style="max-width: 80%; margin: 0 auto; text-align: center;">
        <p>The bushfires that ravaged Australia in recent years have had a profound and alarming impact on the country's land, resulting in a drastic increase in land damage and deforestation. It can be seen that there is a storng correlation between the amount of CO2 emissions produced by Australian states and the extent of land damaged by bushfires. This underscores the critical role that carbon emissions play in exacerbating the frequency and severity of these bushfires. These more frequent and more devastating fires are having a negative impact not only on Australians, but also native species of plants and animals </p>
      </div>
    </div>
    <!-- title humans, animals -->
    <div style="text-align:center">
      <div style="max-width: 80%; margin: 0 auto; text-align: center;">
        <h1 style="font-size: 30px;">Bushfire Effect Humans and Animals in 2020</h1>
      </div>
    </div>
    <!-- bar pie -->
    <div>
      <div style="text-align:center">
        <div id="bar" class="vis-container"></div>
      </div>
    </div>
  </div>

  <script type="text/javascript">
    // URLs
    var specVis2 = "https://raw.githubusercontent.com/Megan6811/assignment2/main/2020Map.json";
    var specVis3 = "https://raw.githubusercontent.com/Megan6811/assignment2/main/meanTempBar.json";
    var topGraphURL = "https://raw.githubusercontent.com/Megan6811/assignment2/main/meanTempBar.json";
    
    var initialSpec; // To store the initial specification of topGraph

    // Embed "topGraph" visualization
    fetch(topGraphURL).then(response => response.json())
      .then(data => {
        initialSpec = data; // Save the initial specification
        vegaEmbed('#topGraph', initialSpec, { "actions": false });
      });

    // Embeding some vis
    vegaEmbed('#vis2', specVis2, { "actions": false });
    vegaEmbed('#bubblePlot', "https://raw.githubusercontent.com/Megan6811/assignment2/main/bubblePlot.json", { "actions": false });
    vegaEmbed('#bar', "https://raw.githubusercontent.com/Megan6811/assignment2/main/bar.json", { "actions": false });
    vegaEmbed('#pie', "https://raw.githubusercontent.com/Megan6811/assignment2/main/donut.json", { "actions": false });

    // Dropdown JS code
    document.getElementById("dataDisplay").addEventListener("change", function (e) {
      redrawGraph(e.target.value);
    });

    function redrawGraph(displayType) {
      let specToUse;

      if (displayType === "both") {
        specToUse = initialSpec;
      } else if (displayType === "meanTemp") {
        specToUse = JSON.parse(JSON.stringify(initialSpec)); // initial specification
        specToUse.layer.splice(1, 1); // remove ine layer
      } else if (displayType === "emissions") {
        specToUse = JSON.parse(JSON.stringify(initialSpec)); // initial specification
        specToUse.layer.splice(0, 1); // remove bar layer
      }
      
      vegaEmbed('#topGraph', specToUse, { "actions": false });
    }
  </script>
</body>
</html>